CREATE TABLE Customer (
  CustomerID INT NOT NULL IDENTITY,
  CustomerName NVARCHAR(30) NOT NULL,
  CustomerAddress NVARCHAR(30) NOT NULL,
  PRIMARY KEY (CustomerID)
)
GO
CREATE TABLE Shop (
  ShopID INT NOT NULL IDENTITY,
  ShopName NVARCHAR(30) NOT NULL,
  ShopAddress NVARCHAR(30) NOT NULL,
  PRIMARY KEY (ShopID)
)
GO
CREATE TABLE ProductColor (
	ColorID INT NOT NULL IDENTITY,
	ColorName NVARCHAR(30) NOT NULL,
    PRIMARY KEY (ColorID)
)
GO
CREATE TABLE Product (
  ProductID INT NOT NULL IDENTITY,
  ShopID INT,
  ProductName NVARCHAR(30) NOT NULL,
  Price REAL NOT NULL,
  Color NVARCHAR(30),
  CONSTRAINT FK_Shop_ShopID
	FOREIGN KEY (ShopID) 
	REFERENCES Shop (ShopID) 
	ON DELETE SET NULL,
  CONSTRAINT FK_Shop_ColorID
	FOREIGN KEY (ColorID) 
	REFERENCES ProductColor (ColorID) 
	ON DELETE SET NULL,
  PRIMARY KEY (ProductID)
)

CREATE TABLE Ord (
  OrderID INT NOT NULL IDENTITY,
  CustomerID INT,
  OrderNumber NVARCHAR(30) NOT NULL,
  CONSTRAINT FK_Users_UserData
	FOREIGN KEY (CustomerID) 
	REFERENCES Customer (CustomerID) 
	ON DELETE SET NULL,
  PRIMARY KEY (OrderID)
)
	GO
CREATE TABLE ProductOrder (
  ProductOrderID INT NOT NULL IDENTITY,
  ProductID INT,
  OrderID INT,
  CONSTRAINT FK_ProductOrder_ProductID
	FOREIGN KEY (ProductID) 
	REFERENCES Product (ProductID) 
	ON DELETE SET NULL,
  CONSTRAINT FK_ProductOrder_OrderID
	FOREIGN KEY (OrderID) 
	REFERENCES Ord (OrderID) 
	ON DELETE SET NULL,
  PRIMARY KEY (ProductOrderID)
)
GO

SELECT @@SERVERNAME

